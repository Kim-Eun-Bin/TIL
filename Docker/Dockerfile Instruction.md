### FROM

FROM \<image\> or FROM \<image\>:\<tag\>

- FROM은 base 이미지를 설정합니다. Dockerfile로 이미지를 생성할 때는 항상 기존에 있는 이미지를 기반으로 생성하기 때문에 FROM은 반드시 설정합니다.
- 이미지 이름을 설정하거나 이미지 이름과 태그를 함께 설정할 수 있습니다. 이미지 이름만 설정하면 latest를 사용합니다.
- FROM은 항상 맨 처음에 사용하며 생략 불가능합니다. 이미지를 생성할 때 FROM에 설정한 이미지가 로컬에 있으면 사용되고, 없을 경우 Docker Hub에서 내려 받아집니다.
- Dockerfile 파일 하나에 FROM을 여러 개 설정 가능합니다.
    
    : 여러개 설정할 경우 이미지가 여러 개 생성됩니다.
  
ex) FROM ubuntu:14.04

### MAINTAINER

MAINTAINER \<writer\>

- MAINTAINER는 생략 가능합니다.
- 이미지를 생성한 사람의 정보를 설정합니다. 형식은 자유이며 보통 이름과 이메일을 입력합니다.
- 현재는 더이상 사용하지 않습니다. (deprecated)

ex) MAINTAINER eunbin \<a@b.com\>

### LABEL

컨테이너 이미지에 컨테이너의 정보를 저장합니다.

- 라이센스 정보를 기록하여 자동화에 도움을 줍니다.
- 각 라벨에는 LABEL로 시작하고 하나 이상의 키-값 쌍이 뒤에 붙습니다.
- 공백을 사용하는 문자열은 큰따옴표(쿼팅문자)로 묶습니다.
- 한 이미지 안에 여러 개를 사용할 수 있습니다.
- LABEL 명령어 하나에 여러 개를 묶어 사용할 수 있습니다.
- docker inspect 명령어로 라벨 값을 확인할 수 있습니다.

### RUN

RUN <명령> or RUN ["<실행 파일>", "<매개 변수1>", "<매개 변수2>"]

- FROM으로 설정한 이미지에 실행하기 위한 스크립트나 명령어 파일이 없으면 사용할 수 없습니다.
- RUN으로 실행한 결과가 새 이미지로 생성되고, 실행 내역은 이미지의 히스토리에 기록됩니다.
- RUN으로 실행한 결과는 캐시되며 다음 빌드 때 재사용합니다. 캐시된 결과를 사용하지 않으려면 docker build 명령에서 —no-cache 옵션을 사용합니다.
- 여러 줄로 구성된 RUN 문자를 쿼팅문자인 \를 이용해 여러 줄로 나누는 것은 Dockerfile을 간단하고 해석하기 편하도록 해줍니다.

### CMD

CMD <명령> or CMD["<실행 파일>", "<매개 변수1>", "<매개 변수2>"]

- FROM 으로 설정한 이미지에 포함된 shell 실행 파일을 사용하게 되며 shell 실행 파일이 없으면 사용할 수 없습니다.
- CMD는 컨테이너가 시작되었을 때 명령 또는 쉘스크립트를 실행합니다.
- 컨테이너를 시작할 때 한번 실행되고 RUN은 이미지를 빌드할 때 실행됩니다.
- Dockerfile에서 한 번만 사용할 수 있습니다. 여러 개 사용될 경우 마지막만 실행됩니다.
- 어플리케이션 업데이트 및 배치에 사용하고, CMD는 어플리케이션 자체를 실행하는 명령어라고 볼 수 있습니다.

### ENTRYPOINT

ENTRYPOINT <명령> or ENTRYPOINT[”<실행 파일>”, “<매개 변수1>”, “<매개 변수2>”]

- 컨테이너가 시작되었을 때 스크립트 혹은 명령을 실행합니다.
- Dockerfile에서 단 한번만 사용할 수 있습니다.
- CMD는 ENTRYPOINT에 설정한 명령에 매개 변수를 전달만 합니다. 명령어 실행은 ENTRYPOINT가 담당하고 CMD는 단순한 인자나 변수만 전달합니다.

### COPY

COPY <복사할 파일 경로> <이미지에서 파일이 위치할 경로>

- 파일을 이미지에 추가합니다.
- 압축 파일을 추가할 때 압축을 해제하지 않습니다.
- URL을 사용할 수 있습니다.
- <복사할 파일 경로>는 Dockerfile이 있는 작업디렉토리인 컨텍스트 아래를 기준으로 합니다. 컨텍스트 상위 디렉토리를 지정하거나 절대 경로를 지정할 수 없습니다.
- <이미지에서 파일이 위치할 경로>는 항상 절대 경로만 사용합니다.
    
    이름의 마지막이 /로 끝나면 디렉토리가 자동으로 이미지에 생성되고 파일이 복사됩니다. 디렉토리명 뒤에 /를 붙이지 않을 경우엔 파일명으로 간주되어 지정 이름으로 파일이 복사됩니다.
    
- COPY로 추가되는 파일은 소유자(UID) 0, 그룹(GID) 0으로 설정되고 permission은 기존 파일의 것을 따릅니다.

### ADD

ADD <복사할 파일 경로> <이미지에서 파일이 위치할 경로>

- 파일을 이미지에 추가합니다.
- <복사할 파일 경로>는 Dockerfile이 있는 작업 디렉토리인 컨텍스트 아래를 기준으로 하며 컨텍스트 디렉토리의 상위 디렉토리를 지정할 수 없습니다. 절대 경로는 사용할 수 없습니다.
- <이미지에서 파일이 위치할 경로>는 항상 절대 경로만 사용합니다. 마지막이 /로 끝나면 디렉토리가 생성되고 파일은 그 아래에 복사됩니다.

### VOLUME

VOLUME <컨테이너 디렉토리> or VOLUME [”컨테이너 디렉토리1”, “컨테이너 디렉토리2”]

- VOLUME은 컨테이너끼리 데이터를 공유할 수 있습니다.
- VOLUME으로는 호스트서버의 특정 디렉토리와 연결하도록 설정하는 기능이 없습니다. 만약, 컨테이너의 데이터 볼륨을 호스트의 특정 디렉토리와 연결하려면 docker run -v 옵션을 사용해야합니다.
    - docker volume create : 볼륨 생성
    - docker volume ls : 볼륨 확인
    - docker volume inspect : 볼륨 상세 정보를 확인
    - docker volume prune : 컨테이너에서 사용하지 않는 볼륨 모두 삭제하기
    - docker volume rm : 볼륨 삭제
